"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),azList=function(){function r(e){_classCallCheck(this,r);document.body;var a=this,l=this.mergeObject({blogId:"blog_id",apiKey:"api_key",selector:".krs-azlist"},e),t="https://www.googleapis.com/blogger/v3/blogs/"+l.blogId+"/posts?key="+l.apiKey+"&maxResults=500";fetch(t).then(function(e){if(e.ok)return e.json()}).then(function(e){var t=a.orderbyAZ(e.items),r=document.querySelector(l.selector);r.innerHTML="";for(var n=0;n<t.length;n++)0<t[n].items.length&&r.appendChild(a.render(t[n],l));(l.isToggle||l.activedItems)&&a.toggle()})}return _createClass(r,[{key:"toggle",value:function(){for(var e=document.querySelectorAll(".krs-azlist__toggle"),t=function(){var t=e[r];e[r].addEventListener("click",function(e){t.classList.toggle("actived"),t.parentNode.parentNode.querySelector(".krs-azlist__body").classList.toggle("actived")})},r=0;r<e.length;r++)t()}},{key:"render",value:function(e,t){var r,n,a,l=document.createElement("div");return l.classList.add("krs-azlist__row"),l.appendChild((r="letra "+e.letter.toUpperCase(),n=document.createElement("div"),a=document.createElement("span"),n.classList.add("krs-azlist__headline"),a.classList.add("krs-azlist__count"),n.innerText=r,a.innerText=e.items.length+" VIDEOS",n.appendChild(a),n)),l.appendChild(function(e){var t=document.createElement("div"),r=document.createElement("ul");t.classList.add("krs-azlist__body"),r.classList.add("krs-azlist__items");for(var n=0;n<e.length;n++)r.innerHTML+='<li itemprop="name"><a href="'+e[n].url+'" title="'+e[n].title+'" itemprop="url" target="_blank">'+(n+1)+" - "+e[n].title+"</a></li>";return t.appendChild(r),t}(e.items)),l}},{key:"orderbyAZ",value:function(r){for(var n=[].concat(_toConsumableArray("abcdefghijklmnopqrstuvwxyz")),a=[],e=function(){var t=n[l],e=r.filter(function(e){if(e.title.substr(0,1).toLowerCase()==t)return e});a[l]={letter:t,items:e}},l=0;l<n.length;l++)e();var t=r.filter(function(e){var t=e.title.substr(0,1).toLowerCase();if(!/[a-z]/g.test(t))return e});return a.unshift({letter:"#",items:t}),a}},{key:"mergeObject",value:function(e,t){var r;for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}}]),r}();